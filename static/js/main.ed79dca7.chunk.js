(this["webpackJsonpfanfou-pro"]=this["webpackJsonpfanfou-pro"]||[]).push([[0],{47:function(e,t,n){e.exports=n.p+"static/media/logo.b3d6fc37.svg"},54:function(e,t,n){e.exports=n.p+"static/media/login-badge-1.ad9117f0.svg"},55:function(e,t,n){e.exports=n.p+"static/media/login-badge-2.a0e78eb4.svg"},56:function(e,t,n){e.exports=n.p+"static/media/login-badge-3.e7c076d4.svg"},60:function(e,t,n){e.exports=n(86)},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"notification",(function(){return p})),n.d(o,"message",(function(){return m})),n.d(o,"login",(function(){return f})),n.d(o,"home",(function(){return ve}));var a=n(0),r=n.n(a),i=n(27),c=n.n(i),l=n(11),s=n(43),u=n(10),p={state:{},reducers:{setNotification:function(e,t){return Object(u.a)({},e,{notification:t})}},effects:function(e){return{updateNotification:function(t){e.notification.setNotification(t)}}}},m={state:{message:""},reducers:{setMessage:function(e,t){return Object(u.a)({},e,{message:t})}},effects:function(e){return{notify:function(t){e.message.setMessage(t)}}}},f={state:{accounts:[],current:null},reducers:{addAccount:function(e,t){var n=e.accounts.filter((function(e){return e.id!==t.id}));return n.unshift(t),Object(u.a)({},e,{accounts:n})},setCurrent:function(e,t){return Object(u.a)({},e,{current:t})},removeAccount:function(e,t){var n=e.accounts.filter((function(e){return e.id!==t}));return Object(u.a)({},e,{accounts:n})}},effects:function(e){return{login:function(t){e.login.addAccount(t),e.login.setCurrent(t)},logout:function(t){e.login.removeAccount(t),e.login.setCurrent(null)}}}},d=n(1),g=n.n(d),h=n(6),b=n(57),v="3a63ae91e9fed24065c67015ad341479",x="1afe9c453d6d47c641e00b50690aba51",w=localStorage.getItem("fanfouProToken"),y=localStorage.getItem("fanfouProTokenSecret"),k=new b.a({consumerKey:v,consumerSecret:x,apiDomain:"cors.fanfou.pro",oauthDomain:"cors.fanfou.pro",hooks:{baseString:function(e){return e.replace("%2F%2Fcors.fanfou.pro%2Foauth","http%3A%2F%2Ffanfou.com%2Foauth").replace("%2F%2Fcors.fanfou.pro","http%3A%2F%2Fapi.fanfou.com")}}});w&&y&&(k.oauthToken=w,k.oauthTokenSecret=y);var E,_,j,O,I,C,S,N,P,T,z,A,M,F,L,D,B,K,H,U=new(n(59).a)({duration:7e3,end:.7}),q=function(){U.status().progress?U.refresh():U.start()},J=function(){U.done()},Q=n(3),W=n(5),$=n(9),G=n(7),R=n(8),V=n(19),X=n(17),Y=n(2),Z=n(47),ee=n.n(Z),te=(E=Object(l.b)((function(e){return{current:e.login.current}}),(function(e){return{logout:e.login.logout}})),Object(V.g)(_=E((O=j=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object($.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(a)))).handleLogout=function(){localStorage.removeItem("fanfouProKey"),localStorage.removeItem("fanfouProSecret"),localStorage.removeItem("fanfouProToken"),localStorage.removeItem("fanfouProTokenSecret"),n.props.logout(),window.location.href="/#/login"},n}return Object(R.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props.current;return r.a.createElement(ne,null,r.a.createElement("img",{src:ee.a}),r.a.createElement(oe,null,r.a.createElement(ae,{to:"/home"},"\u9996\u9875"),r.a.createElement(ae,{to:"/search"},"\u641c\u7d22"),e?r.a.createElement(ae,{to:"/login",onClick:this.handleLogout},"\u9000\u51fa"):r.a.createElement(ae,{to:"/login"},"\u767b\u5f55")))}}]),t}(r.a.Component),j.defaultProps={current:null,logout:function(){}},_=O))||_)||_),ne=Y.b.div.withConfig({displayName:"header__StyledHeader",componentId:"frhkzo-0"})(["display:flex;justify-content:space-between;margin:0.75em 0;"]),oe=Y.b.div.withConfig({displayName:"header__Nav",componentId:"frhkzo-1"})(["margin-top:10px;display:inline-block;box-sizing:inner;border-radius:10px;background-color:white;padding:7px;"]),ae=Object(Y.b)(X.b).withConfig({displayName:"header__StyledLink",componentId:"frhkzo-2"})(["padding:2px 7px;color:#06c;text-decoration:none;border-radius:2px;&:visited{color:#06c;}&:hover{background-color:#06c;color:white;}"]),re=function(e){function t(){return Object(Q.a)(this,t),Object($.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){return r.a.createElement(ie,null,r.a.createElement(le,null,r.a.createElement(ce,{to:"/about"},"\u5173\u4e8e\u996d\u5426"),r.a.createElement(ce,{to:"/more"},"\u66f4\u591a\u73a9\u6cd5"),r.a.createElement(ce,{to:"/blog"},"\u56e2\u961f\u535a\u5ba2"),r.a.createElement(ce,{to:"/api"},"API"),r.a.createElement(ce,{to:"/help"},"\u5e2e\u52a9"),r.a.createElement(ce,{to:"/help"},"\u7528\u6237\u6761\u6b3e"),r.a.createElement(ce,{to:"/privacy"},"\u9690\u79c1\u58f0\u660e"),r.a.createElement(ce,{to:"/help"},"\u5408\u4f5c\u4f19\u4f34")),r.a.createElement(le,null,"Code with \u2764\ufe0f by LitoMore"))}}]),t}(r.a.Component),ie=Y.b.div.withConfig({displayName:"footer__StyledFooter",componentId:"sc-1s8553o-0"})(["border-radius:10px;background-color:white;padding:5px;text-align:center;margin:1.25em 0;font-size:12px;"]),ce=Object(Y.b)(X.b).withConfig({displayName:"footer__Link",componentId:"sc-1s8553o-1"})(["color:#06c;text-decoration:none;padding:1px;margin:0 5px;&:visited{color:#06c;}&:hover{background-color:#06c;color:white;border-radius:2px;}"]),le=Y.b.p.withConfig({displayName:"footer__P",componentId:"sc-1s8553o-2"})(["margin:0;&:nth-child(1){margin-bottom:2px;}"]),se=n(33),ue=n.n(se),pe=Object(l.b)((function(e){return{current:e.login.current}}))((S=C=function(e){function t(){return Object(Q.a)(this,t),Object($.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.current,n=e.status,o=t?t.profile_link_color:"#06c";return n?r.a.createElement(me,null,r.a.createElement("div",null,r.a.createElement(fe,{to:"/user"},r.a.createElement(ge,{src:n.user.profile_image_origin_large})),r.a.createElement(he,null,n.txt.map((function(e,t){var n=String(t);switch(e.type){case"at":return r.a.createElement("span",{key:n},r.a.createElement(de,{color:o,to:"/".concat(e.id)},e.text));case"link":case"tag":default:return r.a.createElement("span",{key:n},e.text)}}))),r.a.createElement(be,null,ue()(new Date(n.created_at)).fromNow()," \u901a\u8fc7",n.source_name,n.repost_status?" \u8f6c\u81ea".concat(n.repost_status.user.name):""))):null}}]),t}(r.a.Component),C.defaultProps={current:null,status:null},I=S))||I,me=Y.b.div.withConfig({displayName:"status__Container",componentId:"sc-1x701a5-0"})(["border-top:1px dashed #ccc;min-height:50px;height:auto;padding:9px 50px 12px 62px;overflow:hidden;"]),fe=Object(Y.b)(X.b).withConfig({displayName:"status__AvatarLink",componentId:"sc-1x701a5-1"})(["float:left;margin-left:-59px;margin-top:3px;text-decoration:none;"]),de=Object(Y.b)(X.b).withConfig({displayName:"status__UserLink",componentId:"sc-1x701a5-2"})(["text-decoration:none;color:",";&:visited{color:",";}"],(function(e){return e.color}),(function(e){return e.color})),ge=Y.b.img.withConfig({displayName:"status__Avatar",componentId:"sc-1x701a5-3"})(["display:block;width:48px;height:48px;border-radius:2px;"]),he=Y.b.div.withConfig({displayName:"status__Content",componentId:"sc-1x701a5-4"})([""]),be=Y.b.div.withConfig({displayName:"status__Info",componentId:"sc-1x701a5-5"})(["margin-top:3px;font-size:12px;color:#999;"]),ve={state:{loading:!1,timleine:[],parameters:null},reducers:{setTimeline:function(e,t){var n=t.timeline,o=t.parameters;return Object(u.a)({},e,{timeline:n,parameters:o})}},effects:function(e){return{fetch:function(){var t=Object(h.a)(g.a.mark((function t(n){var o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,q(),t.next=4,k.get("/statuses/home_timeline",Object(u.a)({},n));case 4:o=t.sent,e.home.setTimeline({timeline:o,parameters:n});case 6:return t.prev=6,J(),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(e){return t.apply(this,arguments)}}()}}},xe=n(53),we=Object(l.b)((function(e){return{message:e.message.message}}),(function(e){return{setMessage:e.message.setMessage}}))((T=P=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object($.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(a)))).timer=null,n}return Object(R.a)(t,e),Object(W.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.message,o=t.setMessage;n&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){o(""),e.timer=null}),5e3))}},{key:"render",value:function(){var e=this.props.message;return r.a.createElement(ye,{display:e},e)}}]),t}(r.a.Component),P.defaultProps={message:"",setMessage:function(){}},N=T))||N,ye=Y.b.div.withConfig({displayName:"message__StyledMessage",componentId:"puh57p-0"})(["opacity:",";background-color:#fffaaa;position:fixed;top:0;left:0;padding:8px 15px;text-align:center;border-bottom-right-radius:5px;"],(function(e){return e.display?"1":"0"})),ke=Object(l.b)((function(e){return{timeline:e.home.timeline,parameters:e.home.parameters}}),(function(e){return{fetch:e.home.fetch}}))((M=A=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object($.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(a)))).fetchHome=Object(h.a)(g.a.mark((function e(){var t,o,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,o=t.parameters,a=t.fetch,k.oauthToken=localStorage.getItem("fanfouProToken"),k.oauthTokenSecret=localStorage.getItem("fanfouProTokenSecret"),a(Object(u.a)({},o,{format:"html"}));case 4:case"end":return e.stop()}}),e)}))),n}return Object(R.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){0===this.props.timeline.length&&this.fetchHome()}},{key:"render",value:function(){var e=this.props.timeline;return r.a.createElement(Ee,null,r.a.createElement(je,null,e.map((function(e){return r.a.createElement(pe,{key:e.id,status:e})}))),r.a.createElement(Oe,null,"test"))}}]),t}(r.a.Component),A.defaultProps={timeline:[],parameters:null,fetch:function(){}},z=M))||z,Ee=Y.b.div.withConfig({displayName:"home__Container",componentId:"sc-1840wvw-0"})(["display:flex;border-radius:10px;background-color:white;overflow:hidden;height:auto;"]),_e=Y.b.div.withConfig({displayName:"home__Base",componentId:"sc-1840wvw-1"})(["padding:20px;"]),je=Object(Y.b)(_e).withConfig({displayName:"home__Main",componentId:"sc-1840wvw-2"})(["display:inline-block;box-sizing:border-box;vertical-align:top;width:540px;"]),Oe=Object(Y.b)(_e).withConfig({displayName:"home__Side",componentId:"sc-1840wvw-3"})(["display:inline-block;box-sizing:border-box;vertical-align:top;background-color:#e2f2da;width:235px;border-left:1px solid #e2f2da;"]),Ie=n(54),Ce=n.n(Ie),Se=n(55),Ne=n.n(Se),Pe=n(56),Te=n.n(Pe),ze=Object(l.b)((function(e){return{accounts:e.login.accounts}}),(function(e){return{notify:e.message.notify,login:e.login.login}}))((D=L=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object($.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(a)))).state={username:"",password:""},n.handleUsername=function(e){n.setState({username:e.target.value})},n.handlePassword=function(e){n.setState({password:e.target.value})},n.handleLogin=function(){var e=Object(h.a)(g.a.mark((function e(t){var o,a,r,i,c,l,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=n.state,a=o.username,r=o.password,i=n.props.login,k.username=a,k.password=r,e.prev=5,q(),e.next=9,k.xauth();case 9:return c=e.sent,l=c.oauthToken,s=c.oauthTokenSecret,e.next=14,k.get("/users/show");case 14:u=e.sent,localStorage.setItem("fanfouProKey",v),localStorage.setItem("fanfouProSecret",x),localStorage.setItem("fanfouProToken",l),localStorage.setItem("fanfouProTokenSecret",s),i(u),J(),window.location.href="/#/home",e.next=29;break;case 24:e.prev=24,e.t0=e.catch(5),J(),n.props.notify("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"),n.setState({password:""});case 29:case"end":return e.stop()}}),e,null,[[5,24]])})));return function(t){return e.apply(this,arguments)}}(),n}return Object(R.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement(Ae,null,r.a.createElement(Fe,null,r.a.createElement(Be,null,"\u996d\u5426\uff0c\u968f\u65f6\u968f\u5730\u8bb0\u5f55\u4e0e\u5206\u4eab\uff01"),r.a.createElement(Ke,null,r.a.createElement(He,null,r.a.createElement("img",{src:Ce.a}),r.a.createElement("div",null,r.a.createElement(De,null,"\u8ff7\u4f60\u535a\u5ba2"),r.a.createElement(De,null,"\u8bb0\u5f55\u751f\u6d3b\u7684\u70b9\u70b9\u6ef4\u6ef4"))),r.a.createElement(He,null,r.a.createElement("img",{src:Ne.a}),r.a.createElement("div",null,r.a.createElement(De,null,"\u4ea4\u6d41\u4e0e\u5206\u4eab"),r.a.createElement(De,null,"\u62c9\u8fd1\u4f60\u548c\u670b\u53cb"))),r.a.createElement(He,null,r.a.createElement("img",{src:Te.a}),r.a.createElement("div",null,r.a.createElement(De,null,"\u968f\u65f6\u968f\u5730"),r.a.createElement(De,null,"\u652f\u6301 MSN/QQ \u4e0e\u624b\u673a"))))),r.a.createElement(Le,null,r.a.createElement(Ue,null,"\u767b\u5f55"),r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement(qe,null,r.a.createElement(Je,null,"Email \u6216\u624b\u673a\u53f7\uff1a"),r.a.createElement(Qe,{type:"input",value:t,onChange:this.handleUsername})),r.a.createElement(qe,null,r.a.createElement(Je,null,"\u996d\u5426\u5bc6\u7801"),r.a.createElement(Qe,{type:"password",value:n,onChange:this.handlePassword})),r.a.createElement(We,{type:"submit"},"\u767b\u5f55"))))}}]),t}(r.a.Component),L.defaultProps={notify:function(){},login:function(){}},F=D))||F,Ae=Y.b.div.withConfig({displayName:"login__Container",componentId:"sc-12kpto8-0"})(["border-radius:10px;background-color:white;overflow:hidden;"]),Me=Y.b.div.withConfig({displayName:"login__Base",componentId:"sc-12kpto8-1"})(["padding:20px;"]),Fe=Object(Y.b)(Me).withConfig({displayName:"login__Main",componentId:"sc-12kpto8-2"})(["display:inline-block;box-sizing:border-box;vertical-align:top;width:540px;height:275px;"]),Le=Object(Y.b)(Me).withConfig({displayName:"login__Side",componentId:"sc-12kpto8-3"})(["display:inline-block;box-sizing:border-box;vertical-align:top;background-color:#e2f2da;width:235px;height:275px;border-left:1px solid #e2f2da;"]),De=Y.b.p.withConfig({displayName:"login__P",componentId:"sc-12kpto8-4"})(["margin:0;"]),Be=Y.b.div.withConfig({displayName:"login__Headline",componentId:"sc-12kpto8-5"})(["padding:10px 20px;font-size:20px;font-weight:700;"]),Ke=Y.b.div.withConfig({displayName:"login__Slogan",componentId:"sc-12kpto8-6"})(["display:flex;justify-content:space-between;padding:0 0 10px 15px;"]),He=Y.b.div.withConfig({displayName:"login__Badge",componentId:"sc-12kpto8-7"})(["width:148px;text-align:center;"]),Ue=Y.b.div.withConfig({displayName:"login__LoginTitle",componentId:"sc-12kpto8-8"})(["font-weight:700;margin-bottom:5px;"]),qe=Y.b.div.withConfig({displayName:"login__Section",componentId:"sc-12kpto8-9"})(["margin:10px 0;"]),Je=Y.b.div.withConfig({displayName:"login__Label",componentId:"sc-12kpto8-10"})(["font-size:12px;height:23px;line-height:23px;"]),Qe=Y.b.input.withConfig({displayName:"login__Input",componentId:"sc-12kpto8-11"})(["width:185px;padding:3px 4px;height:15px;line-height:15px;font-size:12px;border:1px solid;border-color:#7c7c7c #c3c3c3 #ddd;"]),We=Y.b.button.withConfig({displayName:"login__Button",componentId:"sc-12kpto8-12"})(["height:23px;padding:0 1.5em;border:1px solid;border-color:#66acff #094fa1 #094fa1 #66acff;background:#2680e9;color:#fff;letter-spacing:0.3em;cursor:pointer;"]);n(83),n(84),n(85);function $e(){var e=Object(xe.a)(["\n\t.uprogress .blur {\n\t\tbox-shadow: 0 0 8px ",", 0 0 4px ",";\n\t}\n\n\t.uprogress .bar {\n\t\tbackground-color: ",";\n\t}\n"]);return $e=function(){return e},e}var Ge=localStorage.getItem("fanfouProKey"),Re=localStorage.getItem("fanfouProSecret"),Ve=localStorage.getItem("fanfouProToken"),Xe=localStorage.getItem("fanfouProTokenSecret"),Ye=function(e){return Ge&&Re&&Ve&&Xe?r.a.createElement(V.b,e):r.a.createElement(V.a,{to:"/login"})},Ze=Object(l.b)((function(e){return{accounts:e.login.accounts,current:e.login.current}}),(function(e){return{login:e.login.login}}))((H=K=function(e){function t(){return Object(Q.a)(this,t),Object($.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(g.a.mark((function e(){var t,n,o,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.login,o=t.current,!(Ge&&Re&&Ve&&Xe&&Ge===v&&Re===x)){e.next=14;break}if(o){e.next=12;break}return e.prev=3,e.next=6,k.get("/users/show");case 6:a=e.sent,n(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:e.next=18;break;case 14:localStorage.removeItem("fanfouProKey"),localStorage.removeItem("fanfouProSecret"),localStorage.removeItem("fanfouProToken"),localStorage.removeItem("fanfouProTokenSecret");case 18:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.current,t=e?e.profile_link_color:"#06c";return r.a.createElement(tt,null,r.a.createElement(X.a,{basename:""},r.a.createElement(et,{color:t}),r.a.createElement(te,null),r.a.createElement(V.d,null,r.a.createElement(Ye,{path:"/home",component:ke}),r.a.createElement(V.b,{path:"/login",component:ze})),r.a.createElement(re,null),r.a.createElement(we,null)))}}]),t}(r.a.Component),K.defaultProps={current:null,login:function(){}},B=H))||B,et=Object(Y.a)($e(),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),tt=Y.b.div.withConfig({displayName:"app__Container",componentId:"sc-1og0yqt-0"})(["width:775px;margin:0 auto;"]);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4]\d|[01]?\d\d?)){3}$/));function nt(){return(nt=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=5;break}return e.next=3,navigator.serviceWorker.ready;case 3:e.sent.unregister();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ot=Object(s.init)({models:o});c.a.render(r.a.createElement(l.a,{store:ot},r.a.createElement(Ze,null)),document.querySelector("#root")),function(){nt.apply(this,arguments)}()}},[[60,1,2]]]);
//# sourceMappingURL=main.ed79dca7.chunk.js.map